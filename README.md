# 지하철 노선도 미션

[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션

---

# Step2 시나리오 정리

### 스토리 1: 나는 관리자로서 지하철 노선을 생성하여 새로운 노선을 추가하고 싶다.

1. [x] 노선 등록시 노선명, 노선 색, 상행종점역 id, 하행종점역 id, 거리를 함께 등록하고 생성된 결과를 응답받는다.

### 스토리 2: 나는 관리자로서 지하철 노선 목록을 조회하여 모든 노선을 관리하고 싶다.

1. [x] 모든 노선과 해당하는 지하철역을 모두 반환한다.

### 스토리 3: 나는 관리자로서 특정 지하철 노선을 조회하여 해당 노선의 정보를 확인하고 싶다.

1. [x] 특정 노선에 해당하는 정보와 역을 반환한다.
2. [x] 조회하려는 노선이 존재하지 않으면 400 상태코드를 반환한다.

### 스토리 4: 나는 관리자로서 지하철 노선을 수정하여 변경된 정보를 반영하고 싶다.

1. [x] 수정하려는 노선이 존재하지 않으면 에러를 발생시킨다
2. [x] 노선을 수정한후 조회시 수정된 정보가 반환된다.

### 스토리 5: 나는 관리자로서 특정 지하철 노선을 삭제하여 불필요한 노선을 제거하고 싶다.

1. [x] 삭제하려는 노선이 존재하지 않으면 응답코드 400을 반환한다
2. [x] 삭제하려는 노선이 존재하면 삭제된 뒤 조회되지 않는다.

---

# Step3 기능 요구사항

1. 지하철 구간 등록
    - 지하철 노선에 구간을 등록하는 기능을 구현
    - 새로운 구간의 상행역은 해당 노선에 등록되어있는 하행 종점역이어야 한다.
    - 이미 해당 노선에 등록되어있는 역은 새로운 구간의 하행역이 될 수 없다.
    - 새로운 구간 등록시 위 조건에 부합하지 않는 경우 에러 처리한다.
2. 지하철 구간 제거
    - 지하철 노선에 구간을 제거하는 기능 구현
    - 하행 종점역만 제거할 수 있다.
    - 지하철 노선에 역이 상행종점역, 하행종점역만 있는 경우, 역을 삭제할 수 없다.
    - 위 조건에 부합하지 않는 경우 에러 처리한다.

## 스토리 정리

1. 나는 관리자로서 지하철 노선을 생성하여 새로운 노선을 추가하고 싶다.

### 스토리 1: 나는 지하철 구간을 추가하고 싶다.

1. [ ] 기존 하행종점역이 새로운 구간의 하행종점역이 아니면 새 구간 등록시 400 상태코드를 반환한다.
2. [ ] 이미 노선에 등록되어있는 역을 하행종점역으로 등록하면 400 상태코드를 반환한다.
3. [ ] 새로운 구간 등록후 해당 노선을 조회하면 등록된 모든 역을 확인 할 수 있다.

### 스토리 2: 나는 지하철 구간을 삭제하고 싶다.
1. [ ] 제거하려는 역이 선택된 노선의 하행종점역이 아니면 400 상태코드를 반환한다.
2. [ ] 역이 2개 이하로 존재하는 경우 400 상태코드를 반환한다.
3. [ ] 역 삭제에 성공후 역을 조회하면 삭제된 역이 조회되지 않는다.



# 애그리게이트 정리

## 역

## 노선

## 노선역
